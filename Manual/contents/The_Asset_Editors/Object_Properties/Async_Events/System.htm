<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>システム</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page detailing the System async event." />
  <meta name="rh-index-keywords" content="Objects - Async System Event" />
  <meta name="search-keywords" content="System,ev_system_event,Gamepad Event,Xbox Live Event,UWP Event,Virtual Keyboard Event,Audio System Event" />
  <link rel="stylesheet" type="text/css" href="../../../assets/css/default.css" />
  <script src="../../../assets/scripts/main_script.js"></script>
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>システム</h1>
  <p><img>このイベントは、システム レベルのイベント (ゲームパッドの検出や XBox Live への自動サインインなど) からの<a class="glossterm" data-glossterm="コールバック" href="#">コールバックによってのみ</a>トリガーされ、変数 <a href="../../../GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm"><span class="inline">async_load</span></a>コールバックのトリガーとなったシステムレベルのイベントに応じて、異なるキーと値のペアを含んでいます。これらのイベントは以下の通りです。</p>
  <p> </p>
  <h2>ゲームパッド</h2>
  <p>このイベントがゲームパッドの接続または切断に対してトリガーされると、 <span class="inline">async_load</span> マップに以下のキーと値のペアのいずれかが返されます。</p>
  <ul class="dropspotlist">
    <li class="dropspot">&quot;<span class="inline">event_type</span>&quot; - 受信したシステムイベントの種類で、以下の文字列のいずれかになります。
      <ul>
        <li><span>&quot;<span class="inline">gamepad discovered</span>&quot; - 新しいゲームパッドが接続されたことをシステムが報告するときに発生します。</span></li>
        <li><span>&quot;<span class="inline">gamepad lost</span>&quot; - システムがゲームパッドとの接続を失ったときに発生します。</span></li>
      </ul>
    </li>
    <li class="dropspot">&quot;<span class="inline">pad_index</span>&quot; - 追加または削除されたパッドのインデックスです。</li>
  </ul>
  <p>このイベントにより、ゲームパッドのチェックロジックをステップイベントやアラームイベントからシステムイベントに移動させ、実際に必要な時だけ実行することができます。</p>
  <p class="note"><strong>重要!こ</strong>のイベントは、少なくとも1つの <a href="../../../GameMaker_Language/GML_Reference/Game_Input/GamePad_Input/Gamepad_Input.htm"><span class="inline">gamepad_*</span></a>関数または<a href="../../../Drag_And_Drop/Drag_And_Drop_Reference/Gamepad/Gamepad_Actions.htm">GML Visual アクションを</a>ゲームコードに追加します。ランナーは、プロジェクト内で関数が使用されているときのみゲームパッドサブシステムを初期化するので、それらが存在しない場合、ゲームパッドを追加／削除しても、システムイベントはトリガーされません。</p>
  <p> </p>
  <h2>バーチャルキーボード</h2>
  <p>このイベントが仮想キーボードの開閉に対してトリガーされると、 <span class="inline">async_load</span> マップに以下のキーと値のペアが返されます。</p>
  <ul class="dropspotlist">
    <li class="dropspot">&quot;<span class="inline">event_type</span>&quot; - 受信したシステムイベントの種類。仮想キーボードの場合は &quot;<span class="inline">virtual keyboard status</span>&quot; になります。</li>
    <li class="dropspot">&quot;<span class="inline">screen_height</span>&quot; - 仮想キーボードの高さ (ピクセル単位) です。キーボードが見えない場合は、0になります。</li>
    <li class="dropspot">&quot;<span class="inline">keyboard_status</span>&quot; - キーボードの現在のステータスで、以下の文字列のうちの 1 つとして返されます。
      <ul>
        <li>&quot;隠蔽&quot;</li>
        <li>&quot;非表示&quot;</li>
        <li>&quot;表示&quot;</li>
        <li>&quot;見える&quot;</li>
      </ul>
    </li>
  </ul>
  <p>バーチャルキーボードの詳細については<a href="../../../GameMaker_Language/GML_Reference/Game_Input/Virtual_Keys_And_Keyboards/Virtual_Keys_And_Keyboards.htm">こちらを</a>ご覧ください。</p>
  <p> </p>
  <h2>Xbox Live</h2>
  <p>非同期システムイベントは、UWPエクスポートを使用してXbox Oneをターゲットにし、<a href="../../../Settings/Game_Options/Windows_UWP.htm">UWPゲームオプションで</a>Xbox Liveを有効にするオプションをチェックしたときにトリガーされることがあります。Xbox Liveを有効にした<span data-keyref="GameMaker Name">GameMaker</span>UWPプロジェクトを起動すると、プロジェクトは自動的にXbox Liveにサイレントサインインしようとします。このサインインの試行の結果は、 <span class="inline">async_load</span> マップに以下のキーと値のペアのいずれかとして返されます。</p>
  <ul class="dropspotlist">
    <li class="dropspot">&quot;<span class="inline">event_type</span>&quot; - 受信したシステムイベントの種類で、以下の文字列のいずれかになります。</li>
    <li class="dropspot">&quot;<span class="inline">user signed in</span>&quot; - サイレント・ユーザー・サイン・インが正常に完了しました。</li>
    <li class="dropspot">&quot;<span class="inline">user sign in failed</span>&quot; - サイレント・ユーザー・サイン・インに失敗しました (このような場合は、関数 <a href="../../../GameMaker_Language/GML_Reference/UWP_And_XBox_Live/Users_And_Accounts/xboxlive_show_account_picker.htm"><span class="inline">xboxlive_show_account_picker()</span></a>でサインインするためのアカウントを選択させる)</li>
    <li class="dropspot">&quot;<span class="inline">user signed out</span>&quot; - ユーザーがサインアウトしました。</li>
  </ul>
  <p>Xbox Liveの他の機能もこのイベントを引き起こす可能性がありますが、それらの機能の異なるコールバックは、関連する機能のページで詳しく説明されています。Xbox Liveで使用できる特定の機能の詳細については、<a href="../../../GameMaker_Language/GML_Reference/UWP_And_XBox_Live/UWP_And_XBox_Live.htm">こちらを</a>参照してください。</p>
  <p> </p>
  <h2>オーディオシステムの状態</h2>
  <p>このイベントタイプは、特にHTML5ターゲットで作業するときに使用します。Web Audioコンテキストのステータスが変化するたびにトリガーされるため、このイベントタイプを使用します。つまり、例えば BGM をループさせている場合、このイベントのトリガーによって一時停止したり、停止して再開したりすることができます。これは、 <span class="inline">async_load</span> マップで、次のキーと値のペアを探すことで確認できます。</p>
  <ul class="dropspotlist">
    <li class="dropspot">&quot;<span class="inline">event_type</span>&quot; - 受信したシステムイベントの種類。オーディオシステムが初期化されたか、コンテキストが変更された場合、<span class="notranslate">string</span> &quot;<span class="inline">audio_system_status</span>&quot; になる。</li>
  </ul>
  <p>このイベントタイプがトリガーされた場合、 <span class="inline">async_load</span> マップに追加のキーが存在することになります。</p>
  <ul class="dropspotlist">
    <li class="dropspot">&quot;<span class="inline">status</span>&quot; - オーディオシステムの状態。以下の2つの文字列のいずれかとなる。</li>
    <li class="dropspot">&quot;<span class="inline">available</span>&quot; - オーディオシステムが初期化され、音を再生することができます。</li>
    <li class="dropspot">&quot;<span class="inline">unavailable</span>&quot; - オーディオシステムが初期化されていないか、コンテキストが現在実行されていないため、サウンドを再生できません (すべてのサウンド再生関数は -1 を返します)。</li>
  </ul>
  <p>Audioで利用できる具体的な機能については、<a href="../../../GameMaker_Language/GML_Reference/Asset_Management/Audio/Audio.htm">こちらを</a>ご覧ください。</p>
  <p class="note"><strong>注</strong>：このイベントはHTML5ターゲットで使用するために設計されていますが、他の全てのプラットフォームでもトリガーされます。しかし、全て（HTML5以外）において、オーディオエンジンが最初に初期化されるゲームスタート時に一度だけトリガーされます。</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">戻る<a href="../Async_Events.htm">非同期イベント</a></div>
        <div style="float:right">次へ<a href="Audio_Playback.htm">オーディオの再生</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright<span class="notranslate">YoYo Games Ltd.</span> 2022 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
Asynchronous System
Asynchronous System (Gamepads) 
Asynchronous System (XBox Live)
Asynchronous System (Audio)
Asynchronous System (Virtual Keyboards)
ev_system_event
-->
  <!-- TAGS
ev_system_event
-->
</body>
</html>