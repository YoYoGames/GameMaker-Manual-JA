<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <title>非ビットマップスプライト</title>
  <meta name="topic-status" content="Draft" />
  <link rel="stylesheet" type="text/css" href="../../assets/css/default.css" />
  <script src="../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section explaining non-bitmap sprites in GameMaker" />
  <meta name="search-keywords" content="SWF,Spine,skeleton animation,vector sprites" />
  <meta name="rh-index-keywords" content="Texture Goups - Non-Bitmap Sprites,SWF,Spine" />
</head>
<body>
  <h1>非ビットマップスプライト</h1>
  <p><span data-keyref="GameMaker Name">GameMakerは</span>ビットマップでない<span class="notranslate">sprites</span> 、<a class="glossterm" data-glossterm="ベクトル" href="#">ベクター</a> <span class="inline">SWF </span>ファイルや<strong>スパイン・スケルトンアニメーションファイルという</strong>形式をサポートしています。これらのフォーマットには長所と短所があり、以下の2つのセクションでは、<a href="../../The_Asset_Editors/Sprites.htm">スプライトエディタに</a>インポートする方法と、描画方法に関する情報を少し説明します。</p>
  <h2>スケルトン・アニメーション<span class="notranslate">Sprites</span> (<span class="notranslate">Spine</span>)</h2>
  <p>スケルトンアニメーションを使用した<span class="notranslate">sprite</span> は、ベースとなる「スケルトン」を作成し、キーフレームを使用してスケルトンの構成パーツを時間と共に移動させるアニメーションを作成したものです。このスケルトンを<a class="glossterm" data-glossterm="テクスチャアトラス" href="#">テクスチャアトラスから</a>スキニングし、そのアニメーションを様々なファイルタイプでエクスポートします。<span data-keyref="GameMaker Name">GameMaker</span>では、 <span class="inline">*.json</span> 形式でエクスポートされ、同じ<em>ディレクトリに</em>正しく関連付けられた<span class="notranslate">sprite</span> アトラスファイル (<span class="inline">*.atlas</span>) と画像ファイル ( <span class="inline">*.png</span>) がある限り、このタイプの<span class="notranslate">texture</span> をインポートすることができます。</p>
  <p><img>現在、<span data-keyref="GameMaker Name">GameMaker</span>は<strong> <a href="http://esotericsoftware.com/">Spine</a></strong> というプログラムで<strong>作成された JSON フォーマットのファイルからしかベクターイメージをインポート</strong>できませんが、プログラムへのインポート方法は、通常のビットマップイメージを追加する方法とほとんど同じです。スケルトンアニメーションを追加するには、新規に<span class="notranslate">sprite</span> を作成する必要があります。そうすると、標準の<strong>Load Sprite</strong>ダイアログが表示されますが、ここでは、下部のファイルフィルタから <span class="inline">*.json</span> を選択していることを確認する必要があります。</p>
  <p><img alt="Spine UI" class="center" src="../../assets/Images/Settings/Spine_Example.png" /></p>
  <p>ロード」ボタンを押すと、スケルトン・アニメーションが<a href="../../Introduction/The_Asset_Browser.htm">アセットブラウザに</a> <span class="notranslate">sprite</span> として追加され、ファイルが処理されるとプログレスバーが表示されます。ファイルの複雑さによっては、処理に1〜2分かかることがあります。処理が終了すると、<span class="notranslate">sprite</span> のプロパティダイアログに戻り、以下のように表示されます。</p>
  <p><img>アニメーションをインポートしたら、コリジョンプロパティを設定することができますが、ここでは、単に精密なコリジョンまたはバウンディングボックスコリジョンを使用することに制限され、スケルトンアニメーションのコリジョンデータは、提供されたデータから明示的に取得されることに注意してください。<span data-keyref="GameMaker Name">GameMaker</span>は、インポートしたファイルからデータが欠落している場合、コリジョンマスクを生成しません。つまり、インポートする画像を作成するプログラムでマスクが正しく設定されていない場合、コリジョンを動作させることができないのです。</p>
  <p class="note"><span class="note">注</span>：スケルトン・アニメーションは複雑なため、<span class="notranslate">sprite</span> エディタで表示されるプレビュー画像は、アニメーションを正確に表現するものではなく、<span class="notranslate">room</span> エディタで視覚化するためのアニメーションを表現するシンプルな画像を提供するためのものです。</p>
  <p>ビットマップ<span class="notranslate">sprites</span> とは異なり、インポートされたスケルトン・アニメーション<span class="notranslate">sprite</span> は<strong>エディタで一切変更</strong>できませんが、<span class="notranslate">GameMaker Language</span> (<span class="notranslate">GML</span>) 内にはスキンの変更、プロパティの設定、アニメーションの他の側面を制御するために使用できる関数が多数用意されてい ます。また、<span class="notranslate">texture</span> のオプションを<span class="notranslate">sprite</span> に設定することもできません。<span class="notranslate">GameMaker</span> は<span class="notranslate">texture</span> を生成したプログラムによって作成された付属の<span class="notranslate">sprite</span> アトラスを使用します。</p>
  <p>スケルトン・アニメーション<span class="notranslate">sprites</span> をインポートする際に注意すべき点がいくつかあります。最も重要な点は、<span class="notranslate">sprite</span> 描画および<span class="notranslate">sprite</span> 管理機能の一部が技術的な理由でサポートされていないこと、特に<span class="notranslate">sprite</span> の一部だけを描画したり、何らかの方法で位置を「歪曲」する描画機能（各機能を参照してください）がサポートされていないことです。 <a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/Sprites_And_Tiles.htm"><span class="inline">draw_sprite_*()</span></a>の一部のみを描画する描画関数や、何らかの方法で位置を「歪める」描画関数は、技術的な理由でサポートされません (正確な詳細は、各関数を参照してください)。しかし、基本的な描画関数<span class="notranslate">sprite</span> は完全にサポートされていますし、内蔵の変数<span class="notranslate">sprite</span> もサポートされています。これらの関数や変数とは別に、特別な <span class="inline">skeleton_*</span> 関数を使ってアニメーションのプロパティを設定したり変更したりすることもできます。これらの関数については、「<a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Skeletal_Animation/Skeletal_Animation.htm">スケルトン・アニメーション</a>」のリファレンス・セクションにリストアップして説明しています。</p>
  <h2>ベクター<span class="notranslate">Sprites</span> (SWF)</h2>
  <p>一般に、<span class="notranslate">sprites</span> のすべての<span class="notranslate">GameMaker</span> はビットマップを使用しています。これは、コンテンツの点では柔軟ですが、メモリ使用量が法外になる前に<span class="notranslate">sprite</span> で可能なフレームのサイズと数の両方に制限を置きます。ベクター<span class="notranslate">sprites</span> 、その内容を保存し、描画することによって、これらの制限を回避します：ピクセルのグリッドの代わりに、拡大縮小するとブロック状またはファジーになることができ、それらはベクター数学を使用して三角形として描かれ、これらは以下の画像に示すように、定義を失うことなく拡大（または縮小）することができます。</p>
  <p><img>下の画像は、同じベクターの消防士です。<span class="notranslate">sprite</span> 、<span data-keyref="GameMaker Name">GameMakerで</span>画像を作成するために使用されるポリゴンを見ることができるようになりました。</p>
  <p><img>しかし、ゲームをプログラミングする場合、タダでできるものはありません。ベクター<span class="notranslate">sprites</span> のトレードオフは、ビットマップ<span class="notranslate">sprites</span> よりも描画にかかる CPU コストが高く、この速度差は、インポートするアニメーションの複雑さが増すと増えます。また、ビットマップ<span class="notranslate">sprites</span> とは異なり、そのメモリ使用量は視覚的な複雑さに影響されます。その点を考慮しても、従来のビットマップ<span class="notranslate">sprites</span> では不可能だった大規模なアニメーショングラフィックを追加することが可能になっています。</p>
  <p>パフォーマンス方程式の裏側では、ベクトル<span class="notranslate">sprites</span> は絶対に必要なピクセルだけを描画するので、（画像の周りの空のスペースも「描画」するビットマップ<span class="notranslate">sprites</span> とは異なり）GPU の観点からはより安価である可能性があります。また、一般にベクトル<span class="notranslate">sprites</span> はビットマップの同等品よりはるかに小さいです。上記の消防士の例では、さまざまな<span class="notranslate">sprite</span> タイプのサイズは次のとおりです。</p>
  <p class="code">Bitmap at 70x68 = 4x70x68 bytes x 12 frames = 223k<br />
    Vector = 54k</p>
  <p>スプライトの解像度を4倍にした場合。</p>
  <p class="code">Bitmap at 280x272 = 4x280x272 bytes x 12 frames = 3570k<br />
    Vector = 54k</p>
  <p>このように、ベクター<span class="notranslate">sprites</span> を使用することで、多くのメモリを節約できる可能性があり、また、将来の容量削減の可能性も残されているのです。</p>
  <p>現在、<span data-keyref="GameMaker Name">GameMaker</span>がサポートしているベクター画像は<span class="notranslate">sprites</span> に<em>限定 </em>されており、 <span class="inline">SWF</span> フォーマットのファイルからしかインポートすることができません。プログラムへのインポート方法は、通常のビットマップイメージを追加する方法とほとんど同じです。ベクター画像<span class="notranslate">sprite</span> を追加するには、新規に<span class="notranslate">sprite</span> を作成し、標準の Load<span class="notranslate">Sprite</span> ダイアログを表示させますが、下部にある File Filter から <span class="inline">*.swf</span> を選択していることを確認してください。</p>
  <p><img>ロード」ボタンを押すと、ベクター画像やアニメーションが<a href="../../Introduction/The_Asset_Browser.htm">アセットブラウザに</a>追加され、ファイルが処理されるとプログレスバーが表示されます。ファイルの複雑さによっては、処理に時間がかかることがあります（複雑なアニメーションの場合、1分程度かかることもあります）。処理が終了すると、<span class="notranslate">sprite</span> のプロパティダイアログに戻り、次のように表示されます。</p>
  <p><img> <span class="notranslate">sprite</span> エディタはあまり変わっていませんが、この種の では編集するビットマップがないため、「<span class="notranslate">sprite</span><strong>画像の編集</strong>」ボタンはグレーアウトされており、クリックできません。 次に、すべての オプションもグレーアウトされています。SWF は数学ベースであり、そのため通常 が関連付けられていないため、この種の には利用可能なオプションは何もありません。<span class="notranslate">texture</span> <span class="notranslate">sprites</span> <span class="notranslate">textures</span> <span class="notranslate">sprite</span></p>
  <p class="note"><span class="note">注</span>：プレビューエディタでの画像の見え方は、ゲームでの見え方、<span class="notranslate">sprite</span> エディタのプレビューウィンドウでの見え方と同じではありません。ベクター画像は作成時のサイズでインポートされますが、必ずしもプレビューで表示されるサイズとは限りません（例えば、ブラウザは通常、画像をフィットするようにスケーリングします）。</p>
  <p><span class="notranslate">Sprite</span> Editor の追加機能として、上部にある<strong>SWF Precision</strong>スライダーを使用して、描画時のベクター<span class="notranslate">sprite</span> の<em>品質を </em>設定することができます。これは、<span class="notranslate">sprite</span> を生成するために使用する三角形の数を単純に減らしたり増やしたりします。通常、ほとんどのゲームでは約 50% の値で十分ですが、極端なスケーリングを使用している場合や、パフォーマンスの問題がある場合は、この値を試してみる必要があります。</p>
  <p><span class="notranslate">sprites</span> <span class="notranslate">sprite</span> <span class="notranslate">sprite</span> 特に、<span class="notranslate">sprite</span> の一部のみを描画する描画関数や、何らかの方法で位置を「歪める」描画関数は、技術的な理由でサポートされていません（個々の関数を参照してください）。 <a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/Sprites_And_Tiles.htm"><span class="inline">draw_sprite_*()</span></a>の一部のみを描画する描画関数や、何らかの方法で位置を「歪める」描画関数は、技術的な理由でサポートされません (正確な詳細は、各関数を参照してください)。しかし、基本的な描画関数<span class="notranslate">sprite</span> は完全にサポートされていますし、ビルトインされた<span class="notranslate">sprite</span> 変数もサポートされています。また、関数 <span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_enable_swf_aa.htm">draw_enable_swf_aa()</a></span> 、<span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_get_swf_aa_level.htm">draw_get_swf_aa_level()</a></span> 、 <span class="inline"><a href="../../GameMaker_Language/GML_Reference/Drawing/Sprites_And_Tiles/draw_set_swf_aa_level.htm">draw_set_swf_aa_level()</a></span> を使って、描画される SWF<span class="notranslate">sprites</span> に異なる<a class="glossterm" data-glossterm="アンチエイリアス" href="#">アンチエイリアシング</a>(AA) 値を設定することができます。</p>
  <p>また、以下の点にも注意が必要です。</p>
  <ul class="colour">
    <li> <span class="inline">*.SWF</span> ファイルをインポートする場合、Actionscript はサポートされて<em>いませんので </em>、SWF が正しく動作するためにそれに依存している場合、おそらく正しく動作しないでしょう。同様に、独自の<span class="notranslate">timeline</span> を持つ埋め込みムービークリップは、アニメーションを通してその最初のフレームしか表示されません - すべてのアニメーションは、メインの<span class="notranslate">timeline</span> で行う必要があります。</li>
    <li>ベクターファイルのディテールが特に細かい場合、<span class="notranslate">sprites</span> に穴や奇妙な三角形が表示されることがあります。これは、小さなスケールでは、ジオメトリが一緒に崩れて、うまく三角形にならない形状を作成することがあるためです。この場合、2つのオプションがあります。ベクターファイルの内容を拡大し、インポーターが扱える<span class="notranslate">room</span> を増やすか、<span class="notranslate">object</span> の破損する詳細レベルを減らすことができます。</li>
    <li><span data-keyref="GameMaker Name">GameMaker</span>は、SWF のステージサイズを、結果として得られる<span class="notranslate">sprite</span> の境界として使用します。しかし、この境界の外側にステージ上のものがある場合、それはまだ描画されます。つまり、表示させたくないものはなるべくステージの枠外に置かないようにするか、マスクレイヤーを使ってこの範囲にしか描画しないようにする必要があります。</li>
    <li>ステージサイズは、生成されるコリジョンマスクのサイズにも影響します。したがって、ステージサイズが大きく、アニメーションのフレーム数が多い場合、多くのメモリを消費する可能性があります。したがって、本当に必要な場合のみ、正確なコリジョンマスクを使用してください。</li>
    <li>SWF ファイルは複数のレイヤーから作成され、そのうちのいくつかは重なる可能性があるため、アルファはビットマップ<span class="notranslate">sprites</span> と同じようには機能しません。重なった部分は、そのピクセルが複数回にわたって描かれているため、<span class="notranslate">sprite</span> の他の部分ほど透明には見えません。</li>
    <li>ビットマップフィルはサポート<em>されて </em>いますが、SWF ファイルの一部としてタイル状のビットマップフィルを使用する場合、ビットマップのサイズが 2 の累乗であることを確認する必要があります。そうでない場合は、<span class="notranslate">tile</span> 適切に表示されません。テキストのレンダリングもサポートされていますが、<span class="notranslate">font</span> を SWF ファイルに埋め込んで、結果の<span class="notranslate">sprite</span> に表示させる必要があります。また、現在のところ、左揃えの一行テキストのみサポートされています。</li>
  </ul>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">戻る<a href="../Texture_Groups.htm">テクスチャーグループ</a></div>
        <div style="float:right">次へ<a href="Texture_Pages.htm">テクスチャページ</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright<span class="notranslate">YoYo Games Ltd.</span> 2022 All Rights Reserved</span></h5>
  </div>
</body>
</html>