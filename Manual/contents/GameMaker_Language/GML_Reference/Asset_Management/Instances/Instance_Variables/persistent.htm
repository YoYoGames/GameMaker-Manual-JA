<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>persistent</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page outlining the variable persistent" />
  <meta name="rh-index-keywords" content="persistent" />
  <meta name="search-keywords" content="persistent" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><span data-field="title" data-format="default">persistent</span></h1>
  <p>この変数を読み込むと、インスタンスに <span class="inline">persistent</span> というフラグが立っているかどうかがわかります。また、この変数を使用して、インスタンスの persistence を <span class="inline">true</span> (persistent) または <span class="inline">false</span> (not persistent) に設定することも可能です。永続的なインスタンスとは、<span class="notranslate">room</span> から<span class="notranslate">room</span> に「引き継がれる」ものです。つまり、（たとえば）ゲーム開始時に一度だけ作成すれば、その後のすべての<span class="notranslate">rooms</span> で存在することになります。永続化には注意が必要です。永続化されたインスタンスを見失いやすく、ゲーム開発 の後半で問題になる可能性があるからです。</p>
  <p><span class="notranslate">room</span> で永続化を有効にしたインスタンスを作成すると、この変数は <span class="inline">true</span> に設定され、レイヤーまたは深さが割り当てられます (<span class="notranslate">object</span> のインスタンスを作成するために使用した関数に依存します)。<span class="notranslate">room</span> が変更され、次の<span class="notranslate">room</span> に、割り当てられたものと同じ名前または深さのレイヤーが<i>ない</i>場合、<span class="notranslate">rooms</span> にわたって持続するインスタンスのために新しいレイヤーが作成されます。インスタンスの作成時にレイヤー名を付けた場合は、新しいレイヤーも元のレイヤーと同じ名前になり、インスタンスに深さを割り当てた場合は、新しいレイヤーに &quot;<span class="inline">_layer_XXX</span>&quot; という名前がつきますが、&quot; XXX &quot;はレイヤーに固有の名前を付けるために使用する16進数値です。これらのレイヤーは<span class="notranslate">room</span> から<span class="notranslate">Room</span> End で削除されます。レイヤーと永続的なインスタンスに関するもう一つの注意点は、作成時にインスタンスに名前付きのレイヤーを割り当てた場合、次の<span class="notranslate">rooms</span> に同じ名前の別のレイヤーがあると、永続的なインスタンスは<i>レイヤーの深さに関係なく</i>同じ名前のレイヤーに割り当てられることです。最後に、永続化されたインスタンスが、インスタンスが作成されたのと同じ深さのレイヤーを持つ<span class="notranslate">room</span> に移動した場合、このレイヤーには<i>割り当てられず</i>、代わりに同じ深さに新しいレイヤーが作成されます（前に説明した命名規則に従っています）。</p>
  <p><span class="notranslate">object</span> は、<b>Game Start</b>、<b>Game End</b>、<b>Room Start</b>、<b>Room End</b>イベントが発生しますが、 <span class="inline">game_restart()</span> などでゲームを再起動すると、<span class="notranslate">objects</span> はすべて削除され、ゲームによって再び作成されたときにのみ存在するようになります。また、永続的な<span class="notranslate">object</span> を無効にすると、<span class="notranslate">room</span> End イベントがトリガーされる前に再アクティブ化しない限り、<span class="notranslate">Room</span> から別の場所に移動することはできなくなるので注意してください。</p>
  <p> </p>
  <h4>構文です。</h4>
  <p class="code"><span data-field="title" data-format="default">persistent</span></p>
  <p> </p>
  <h4>リターンです。</h4>
  <p class="code"><span data-keyref="Type_Bool"></span></p>
  <p> </p>
  <h4>例</h4>
  <p class="code">if !persistent<br />
    {<br />
        persistent = true;<br />
    }</p>
  <p>上記のコードでは、インスタンスの永続性が <span class="inline">false</span> であるかどうかを確認し、インスタンスが永続的でない場合は永続性<span class="notranslate">flag</span> を <span class="inline">true</span> に設定しています。</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back:<a href="Instance_Variables.htm">インスタンス変数</a></div>
        <div style="float:right">次のページ <a href="depth.htm"><span class="notranslate">depth</span></a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright<span class="notranslate">YoYo Games Ltd.</span> 2021 All Rights Reserved</span></h5>
  </div>
  <!-- KEYWORDS
persistent
-->
  <!-- TAGS
persistent
-->
</body>
</html>